<!DOCTYPE html>
<html lang="es">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Historial - SmartBudget</title>
   <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
   <!-- Favicon-->
   <link rel="icon" type="image/png" href="../assets/img/stacked_line_chart_24dp_F19E39_FILL0_wght400_GRAD0_opsz24.png">
   <!-- CSS Dependencies -->
    <link rel="stylesheet" href="../assets/sass/main-bootstrap.css"> <!-- Bootstrap personalizado con SCSS -->
   <link rel="stylesheet" href="../assets/sass/main-bootstrap.css"> <!-- Bootstrap personalizado con SCSS -->

>>>>>>> Internal_navegation_checking
</head>
<body>
   <!-- Imagen del background -->
   <div class="background-image">
       <img src="../assets/img/Gemini_Generated_Image_76lk8y76lk8y76lk.png" alt="imagen de fondo decorativa" class="background-image__img">
   </div>
   <!-- Header simplificado -->
    <header class="header">
        <nav class="nav">
            <div class="nav__brand">
                <img src="../assets/img/stacked_line_chart_24dp_F19E39_FILL0_wght400_GRAD0_opsz24.svg" alt="SmartBudget Logo" class="nav__logo">
                <span class="nav__title">SmartBudget</span>
            </div>
            <ul class="nav__list">
                <li class="nav__item">
                    <button class="header__button" onclick="window.location.href='dashboard.html'" aria-label="Ir al dashboard">
                        <i data-lucide="home" class="header__button-icon"></i>
                    </button>
                </li>
            </ul>
        </nav>
    </header>

    <main class="main">
        <div class="row w-100 m-0">
            <div class="col-1"></div>

            <div class="col-10">
                <!-- Summary Cards -->
                <div class="summary">
                    <div class="summary-card summary-card--income">
                        <div class="summary-card__header">
                            <div class="summary-card__title">Total Ingresos</div>
                        </div>
                        <div class="summary-card__content">
                            <p class="summary-card__amount" id="totalIngresos">$4,850.00</p>
                        </div>
                    </div>
                
                    <div class="summary-card summary-card--expense">
                        <div class="summary-card__header">
                            <div class="summary-card__title">Total Gastos</div>
                        </div>
                        <div class="summary-card__content">
                            <p class="summary-card__amount" id="totalGastos">$662.48</p>
                        </div>
                    </div>
                </div>

                <!-- Search and Filter -->
                <div class="search">
                    <div class="search__container">
                        <input type="text" class="search__input" placeholder="Buscar movimiento..." id="searchInput">
                        <span class="search__icon"></span>
                    </div>
                    <div class="filter-buttons">
                        <button class="filter-btn active" onclick="filterTransactions('todos')">Todos</button>
                        <button class="filter-btn" onclick="filterTransactions('ingreso')">Ingresos</button>
                        <button class="filter-btn" onclick="filterTransactions('gasto')">Gastos</button>
                    </div>
                </div>

        <!-- Transactions List -->
        <div class="transaction-list" id="transactionList">
            <!-- Transactions will be populated by JavaScript -->
        </div>

        <!-- Empty State (hidden by default) -->
        <div class="empty-state empty-state--hidden" id="emptyState">
            <div class="empty-icon"></div>
            <p><strong>No se encontraron movimientos</strong></p>
            <p class="u-text-small">Intenta con otros filtros</p>
        </div>

            </div>

            <div class="col-"></div>
        </div>
    </main>

    <footer class="footer bottom-nav">
        <a href="dashboard.html" class="footer__text">
            <span>Dashboard</span>
        </a>
        <a href="menu.html" class="footer__text">
            <span>Acciones</span>
        </a>
    </footer>

   <script>
      const allTransactions = [
         { id: 1, concepto: 'Supermercado', monto: -125.50, fecha: '17 Ene 2026', categoria: 'Alimentaci贸n', tipo: 'gasto' },
         { id: 2, concepto: 'Salario', monto: 3500, fecha: '15 Ene 2026', categoria: 'Ingreso', tipo: 'ingreso' },
         { id: 3, concepto: 'Netflix', monto: -15.99, fecha: '14 Ene 2026', categoria: 'Entretenimiento', tipo: 'gasto' },
         { id: 4, concepto: 'Uber', monto: -23.50, fecha: '13 Ene 2026', categoria: 'Transporte', tipo: 'gasto' },
         { id: 5, concepto: 'Restaurante', monto: -78.00, fecha: '12 Ene 2026', categoria: 'Alimentaci贸n', tipo: 'gasto' },
         { id: 6, concepto: 'Freelance', monto: 850, fecha: '10 Ene 2026', categoria: 'Ingreso', tipo: 'ingreso' },
         { id: 7, concepto: 'Gasolina', monto: -45.00, fecha: '09 Ene 2026', categoria: 'Transporte', tipo: 'gasto' },
         { id: 8, concepto: 'Farmacia', monto: -32.50, fecha: '08 Ene 2026', categoria: 'Salud', tipo: 'gasto' },
         { id: 9, concepto: 'Gimnasio', monto: -50.00, fecha: '07 Ene 2026', categoria: 'Salud', tipo: 'gasto' },
         { id: 10, concepto: 'Amazon', monto: -89.99, fecha: '06 Ene 2026', categoria: 'Compras', tipo: 'gasto' },
         { id: 11, concepto: 'Starbucks', monto: -12.50, fecha: '05 Ene 2026', categoria: 'Alimentaci贸n', tipo: 'gasto' },
         { id: 12, concepto: 'Spotify', monto: -9.99, fecha: '04 Ene 2026', categoria: 'Entretenimiento', tipo: 'gasto' },
         { id: 13, concepto: 'Electricidad', monto: -65.00, fecha: '03 Ene 2026', categoria: 'Servicios', tipo: 'gasto' },
         { id: 14, concepto: 'Bonus', monto: 500, fecha: '02 Ene 2026', categoria: 'Ingreso', tipo: 'ingreso' },
         { id: 15, concepto: 'Cena', monto: -95.00, fecha: '01 Ene 2026', categoria: 'Alimentaci贸n', tipo: 'gasto' }
      ];

      let currentFilter = 'todos';
      let searchTerm = '';

      function renderTransactions() {
         const filtered = allTransactions.filter(transaction => {
            const matchesSearch = transaction.concepto.toLowerCase().includes(searchTerm.toLowerCase());
            const matchesFilter = currentFilter === 'todos' || transaction.tipo === currentFilter;
            return matchesSearch && matchesFilter;
         });

         const transactionList = document.getElementById('transactionList');
         const emptyState = document.getElementById('emptyState');

         if (filtered.length === 0) {
            transactionList.style.display = 'none';
            emptyState.style.display = 'block';
            return;
         }

         transactionList.style.display = 'flex';
         emptyState.style.display = 'none';

         transactionList.innerHTML = filtered.map(transaction => `
            <div class="card transaction">
               <div class="transaction-content">
                  <div class="transaction-left">
                     <div class="transaction-icon ${transaction.tipo}">
                        ${transaction.tipo === 'ingreso' ? '锔' : '锔'}
                     </div>
                     <div class="transaction-info">
                        <h3>${transaction.concepto}</h3>
                        <div class="transaction-meta">
                           <span class="badge">${transaction.categoria}</span>
                           <span class="transaction-date">${transaction.fecha}</span>
                        </div>
                     </div>
                  </div>
                  <span class="transaction-amount ${transaction.tipo}">
                     ${transaction.monto > 0 ? '+' : ''}$${Math.abs(transaction.monto).toFixed(2)}
                  </span>
               </div>
            </div>
         `).join('');
      }

      function filterTransactions(type) {
         currentFilter = type;
         
         // Update button states
         document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
         });
         event.target.classList.add('active');
         
         renderTransactions();
      }

      // Search functionality
      document.getElementById('searchInput').addEventListener('input', (e) => {
         searchTerm = e.target.value;
         renderTransactions();
      });

      // Calculate totals
      function updateTotals() {
         const totalIngresos = allTransactions
            .filter(t => t.tipo === 'ingreso')
            .reduce((sum, t) => sum + t.monto, 0);

         const totalGastos = Math.abs(
            allTransactions
               .filter(t => t.tipo === 'gasto')
               .reduce((sum, t) => sum + t.monto, 0)
         );

         document.getElementById('totalIngresos').textContent = `$${totalIngresos.toFixed(2)}`;
         document.getElementById('totalGastos').textContent = `$${totalGastos.toFixed(2)}`;
      }

      // Initialize
      updateTotals();
      renderTransactions();
   </script>
   
   <!-- Historial JavaScript Module -->
   <script type="module" src="../assets/js/pages/historial-init.js"></script>
</body>
</html>